let browserWidth,browserHeight,snowflakes=[],numberOfSnowflakes=50,resetPosition=!1,enableAnimations=!1,reduceMotionQuery=matchMedia("(prefers-reduced-motion)");function setAccessibilityState(){enableAnimations=!reduceMotionQuery.matches}function setup(){enableAnimations&&(window.addEventListener("DOMContentLoaded",generateSnowflakes,!1),window.addEventListener("resize",setResetFlag,!1))}function Snowflake(s,o,n,i){this.element=s,this.speed=o,this.xPos=n,this.yPos=i,this.scale=1,this.counter=0,this.sign=.5>Math.random()?1:-1,this.element.style.opacity=(.1+Math.random())/3}function setTransform(s,o,n,i){i.style.transform=`translate3d(${s}px, ${o}px, 0) scale(${n}, ${n})`}function generateSnowflakes(){let s=document.querySelector(".snowflake"),o=s.parentNode;o.style.display="block",browserWidth=document.documentElement.clientWidth,browserHeight=document.documentElement.clientHeight;for(let n=0;n<numberOfSnowflakes;n++){let i=s.cloneNode(!0);o.appendChild(i);let r=getPosition(50,browserWidth),l=getPosition(50,browserHeight),a=new Snowflake(i,5+40*Math.random(),r,l);snowflakes.push(a)}o.removeChild(s),moveSnowflakes()}function moveSnowflakes(){if(enableAnimations)for(let s=0;s<snowflakes.length;s++)(t=snowflakes[s]).update();if(resetPosition){for(browserWidth=document.documentElement.clientWidth,browserHeight=document.documentElement.clientHeight,e=0;e<snowflakes.length;e++){let o;(o=snowflakes[e]).xPos=getPosition(50,browserWidth),o.yPos=getPosition(50,browserHeight)}resetPosition=!1}return requestAnimationFrame(moveSnowflakes),1}function getPosition(s,o){return Math.round(-1*s+Math.random()*(o+2*s))}function setResetFlag(s){resetPosition=!0}setAccessibilityState(),reduceMotionQuery.addListener(setAccessibilityState),setup(),Snowflake.prototype.update=function(){this.counter+=this.speed/5e3,this.xPos+=this.sign*this.speed*Math.cos(this.counter)/40,this.yPos+=Math.sin(this.counter)/40+this.speed/30,this.scale=.5+Math.abs(10*Math.cos(this.counter)/20),setTransform(Math.round(this.xPos),Math.round(this.yPos),this.scale,this.element),this.yPos>browserHeight&&(this.yPos=-50)};